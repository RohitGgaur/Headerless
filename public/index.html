<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

    <title>React App</title>
   
    <script
      id="otpless-sdk"
      src="https://otpless.com/v2/headless.js"
      data-appid="J6JRZPT7M1LJ0LSK2RFC"
    ></script>
  </head>
  <body>
    <div id="root"></div>
    <!-- <input id="mobile-input" placeholder="Enter mobile number" />
    <button onclick="phoneAuth()">Request OTP</button>
    
    <div id="otp-section" style="display: none;">
      <input id="otp-input" placeholder="Enter OTP" />
      <button onclick="verifyOTP()">Verify OTP</button>
    </div>

    <button onclick="oauth('WHATSAPP')">Continue with WhatsApp</button>
    <button onclick="oauth('GMAIL')">Continue with Gmail</button>

    <script>
      const callback = (userinfo) => {
        const emailMap = otplessUser.identities.find(
          (item) => item.identityType === "EMAIL"
        );
    
        const mobileMap = otplessUser.identities.find(
          (item) => item.identityType === "MOBILE"
        )?.identityValue;
    
        const token = otplessUser.token;
    
        const email = emailMap?.identityValue;
    
        const mobile = mobileMap?.identityValue;
    
        const name = emailMap?.name || mobileMap?.name;
    
        console.log(userinfo);
    
        // Implement your custom logic here.
      };

      // Initialize OTPLESS SDK with the defined callback.
      const OTPlessSignin = new OTPless(callback);

      // Phone authentication function
      const phoneAuth = () => {
  const phone = document.getElementById("mobile-input").value;

  console.log(`Phone: ${phone}, Country Code: +91`);
  OTPlessSignin.initiate({
    channel: "PHONE",
    phone: phone ,         // Ensure this value is correct
    countryCode: "+91"      // Ensure the correct country code is used
  }).then(response => {
    console.log('Success:', response);
  }).catch(error => {
    console.error('Error:', error);
  });
};


      // Email authentication function
      const emailAuth = () => {
        OTPlessSignin.initiate({
          channel: "EMAIL",
          email: "user@example.com",
        });
      };

      // OAuth authentication function
      const oauth = (provider) => {
        OTPlessSignin.initiate({
          channel: "OAUTH",
          channelType: provider,
        });
      };
    </script> -->
  </body>
</html>
